<div class="modal-header">
  <h4 class="modal-title">Scaling rule</h4>
  <button (click)="activeModal.dismiss()" aria-label="Close" class="close" type="button">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<form (ngSubmit)="onSubmit()" [formGroup]="form">
  <div class="modal-body">

    <div class="card">
      <div class="card-header">
        <span class="h5">Condition</span>
      </div>
      <div class="card-body" formGroupName="condition">

        <div class="form-group row">
          <label class="col-sm-6 col-form-label" for="conditionMetric">Metric</label>
          <div class="col-sm-6">
            <select class="custom-select" formControlName="metric" id="conditionMetric" required>
              <option [ngValue]="scalingConditionMetricType.CPUGroupAvg">Average CPU (geo group)</option>
              <option [ngValue]="scalingConditionMetricType.BWGroupAvg">Average BW (geo group)</option>
            </select>
          </div>
        </div>

        <div formGroupName="settings">
          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="conditionSettingsComparison">Comparison</label>
            <div class="col-sm-6">
              <select class="custom-select" formControlName="comparison" id="conditionSettingsComparison" required>
                <option [ngValue]="scalingComparisonType.More">More</option>
                <option [ngValue]="scalingComparisonType.Less">Less</option>
              </select>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="conditionSettingsValue">Value</label>
            <div class="col-sm-6">
              <input class="form-control" formControlName="value" id="conditionSettingsValue" type="number">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="conditionSettingsDuration">Duration</label>
            <div class="col-sm-6">
              <input class="form-control" formControlName="duration" id="conditionSettingsDuration" type="number">
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="card mt-3">
      <div class="card-header">
        <span class="h5">Action</span>
      </div>
      <div class="card-body" formGroupName="action">

        <div class="form-group row">
          <label class="col-sm-6 col-form-label" for="actionType">Type</label>
          <div class="col-sm-6">
            <select class="custom-select" formControlName="type" id="actionType" required>
              <option [ngValue]="scalingActionType.Increase">Increase</option>
              <option [ngValue]="scalingActionType.Reduce">Reduce</option>
            </select>
          </div>
        </div>

        <div formGroupName="settings">
          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="computingProvider">Computing provider</label>
            <div class="col-sm-6">
              <select class="custom-select" formControlName="provider" id="computingProvider" required>
                <option [ngValue]="computingProvider.AWS">AWS</option>
              </select>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="computingValue">Value</label>
            <div class="col-sm-6">
              <input class="form-control" formControlName="value" id="computingValue" type="text">
            </div>
          </div>

          <div class="form-group row">
            <label class="col-sm-6 col-form-label" for="computingAmount">Amount</label>
            <div class="col-sm-6">
              <input class="form-control" formControlName="amount" id="computingAmount" type="number">
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="form-group row mt-3">
      <label class="col-sm-6 col-form-label" for="actionTimeout">Action timeout</label>
      <div class="col-sm-6">
        <input class="form-control" formControlName="actionTimeout" id="actionTimeout" placeholder="action timeout"
               type="number">
      </div>
    </div>

  </div>

  <div class="modal-footer justify-content-center">
    <button [disabled]="!form.valid" class="btn btn-outline-dark"
            type="submit">{{ this.editing ? 'Update' : 'Create' }}</button>
  </div>
</form>
